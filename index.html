<!DOCTYPE html>
<html lang="ht">
<head>
  <meta charset="UTF-8">
  <title>KalkilatÃ¨ PayPal HTG</title>
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#1a237e"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body { font-family: Arial, sans-serif; background: #e8f0fe; padding: 30px; }
    h2 { color: #1a237e; }
    input, button {
      padding: 10px; margin: 10px 0; width: 100%; max-width: 450px;
      font-size: 16px;
    }
    .result {
      margin-top: 20px;
      font-weight: bold;
      background: #fff;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
    }
    .container {
      background: white;
      padding: 25px;
      max-width: 500px;
      margin: auto;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>KalkilatÃ¨ FrÃ¨ PayPal Avanse (HTG)</h2>

    <label for="amount">Kantite ou vle moun nan resevwa an USD ($):</label>
    <input type="number" id="amount" placeholder="Egzanp: 68.42" step="0.01">

    <label for="exchange">Taux de change HTG/USD:</label>
    <input type="number" id="exchange" placeholder="Egzanp: 135" step="0.01">

    <label for="fee">FrÃ¨ PayPal (%):</label>
    <input type="number" id="fee" value="4.4" step="0.1">

    <label for="fixed">FrÃ¨ fiks PayPal ($USD):</label>
    <input type="number" id="fixed" value="0.30" step="0.01">

    <button onclick="calculate()">Kalkile</button>

    <div class="result" id="result"></div>
  </div>

  <script>
    function calculate() {
      const amount = parseFloat(document.getElementById("amount").value);
      const exchange = parseFloat(document.getElementById("exchange").value);
      const fee = parseFloat(document.getElementById("fee").value) / 100;
      const fixed = parseFloat(document.getElementById("fixed").value);

      if (isNaN(amount) || isNaN(exchange) || isNaN(fee) || isNaN(fixed)) {
        document.getElementById("result").innerHTML = "Tanpri ranpli tout chan yo kÃ²rÃ¨kteman.";
        return;
      }

      const toSendUSD = (amount + fixed) / (1 - fee);
      const feeUSD = toSendUSD - amount;
      const totalHTG = toSendUSD * exchange;

      document.getElementById("result").innerHTML = `
        ðŸ’µ Ou bezwen voye sou PayPal: <strong>$${toSendUSD.toFixed(2)} USD</strong><br>
        ðŸ“‰ FrÃ¨ total PayPal: <strong>$${feeUSD.toFixed(2)} USD</strong><br>
        ðŸ‡­ðŸ‡¹ Total HTG ou dwe peye: <strong>${totalHTG.toFixed(2)} Goud</strong><br>
      `;
    }

    // Enregistre service worker
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js');
    }
  </script>
</body>
</html>
